# λΈνƒ€ ν—¤μ§€

λ³Έλ¬Έ λ§ν¬ : https://datascienceschool.net/view-notebook/207c6124983a42998155595f2dd95685/

λΈνƒ€ ν—¤μ§€(Delta Hedge)λ” λΈ”λ™-μ„μ¦-λ¨ΈνΌ λ°©μ •μ‹μ μ λ„μ—μ„ λ³΄μΈλ°”μ™€ κ°™μ΄ κΈ°μ΄ μμ‚°μ΄ λλ” μ£Όμ‹μ κ°€κ²© λ³€ν™”μ— λ”°λ¥Έ μµμ… κ°€μΉμ λ³€ν™” μ¦‰, λΈνƒ€μ™€ κ°™μ€ μμ μ£Όμ‹μ„ λ³΄μ ν•λ„λ΅ ν—¤μ§€ ν¬νΈν΄λ¦¬μ¤λ¥Ό μ΄μ©ν•μ—¬ μµμ…μ κ°€μΉ λ³€ν™”λ¥Ό ν—¤μ§€ ν¬νΈν΄λ¦¬μ¤κ°€ μ¶”μΆ…ν•λ„λ΅ ν•λ” μ΄μ© μ „λµμ„ λ§ν•λ‹¤.





λ§μ•½ λ¨λ“  μ£Όκ°€μ μ›€μ§μ„μ΄ μ²μμ— κ°€μ •ν• λ¨ν•κ³Ό νλΌλ―Έν„°λ¥Ό λ¨λ‘ μ •ν™•ν λ”°λ¥Έλ‹¤κ³  κ°€μ •ν•λ©΄ λΈνƒ€ ν—¤μ§€μ κ²°κ³Όλ΅ λ§λ“¤μ–΄μ§€λ” ν¬νΈν΄λ¦¬μ¤λ” μµμ…μ κ°€κ²© λ³€ν™”λ¥Ό μ •ν™•ν•κ² μ¶”μΆ…ν•λ‹¤.





## μ λ¬ν”Όμ• λ°”λ‹λΌ μ½ μµμ…μ λΈνƒ€ ν—¤μ§€





μ λ¬ν”Όμ• λ°”λ‹λΌ μ½ μµμ…μ„ λ§¤λ„ν• ν›„μ— μ΄λ¥Ό ν—¤μ§€ν•λ” κ³Όμ •μ„ μƒκ°ν•΄ λ³΄μ.



In:

```
def call_value(S, T, sigma, r, K):
    if not hasattr(T, "__len__") and T == 0:
        return np.maximum(S - K, 0)
    d1 = ((np.log(S / K) + (r + 0.5 * sigma ** 2) * T) / (sigma * np.sqrt(T)))
    d2 = ((np.log(S / K) + (r - 0.5 * sigma ** 2) * T) / (sigma * np.sqrt(T)))
    value = (S * sp.stats.norm.cdf(d1, 0, 1) - K * np.exp(-r * T) * sp.stats.norm.cdf(d2, 0, 1))
    return value
```



In:

```
def call_delta(S, T, sigma, r, K):
    if not hasattr(T, "__len__") and T == 0:
        return int(S > K)
    d1 = ((np.log(S / K) + (r + 0.5 * sigma ** 2) * T) / (sigma * np.sqrt(T)))
    delta = sp.stats.norm.cdf(d1, 0, 1)
    return delta
```



In:

```
r = 0.05
sigma = 0.04 * np.sqrt(256)  # 0.64 or 64% pa
K = 100
T = 1/12.0
```



In:

```
prices = np.linspace(95, 105, 21)
values = np.zeros_like(prices)
for i, s in enumerate(prices):
    values[i] = call_value(s, T, sigma, r, K)

s0 = 100
v0 = call_value(s0, T, sigma, r, K)
d0 = call_delta(s0, T, sigma, r, K)

plt.plot(prices, values, 'g-')
plt.plot(prices, (prices - s0)* d0 + v0, 'b-')
plt.plot(s0, v0, 'ro')
plt.xlabel('prices')
plt.ylabel('European call value')
plt.show()
```









## ν—¤μ§€ μμµ λ¶„μ„





π‘‘π‘΅dtκΈ°κ°„ λ™μ• μ£Όκ°€κ°€ π‘‘π‘†=ππ‘‘π‘΅β€Ύβ€ΎβdS=Οƒdtλ§νΌ μ›€μ§μ€λ‹¤κ³  κ°€μ •ν•μ

μµμ…μ κ°€μΉλ” ν—¤μ§€ ν¬νΈν΄λ¦¬μ¤μ™€ λ‹¬λ¦¬ κ³΅μ„ μ„±(convexity)λ¥Ό κ°€μ§€κ³  μκΈ° λ•λ¬Έμ— ν—¤μ§€ ν¬νΈν΄λ¦¬μ¤λ³΄λ‹¤ λ” κ°€μΉκ°€ μ¤λ¥΄κ² λλ‹¤. μ΄ λ• λΈνƒ€ ν—¤μ§€ λ¦¬λ°Έλ°μ‹±μ„ ν•λ©΄ μ΄ μ΄μµμ€ ν™•μ •(fixed)λλ‹¤.

κ·Έλ¬λ‚ μµμ…μ€ μ(minus)μ theta λ„ κ°€μ§€κ³  μμΌλ―€λ΅ thetaμ— μν•΄ μ¤„μ–΄λ“λ” κ°€μΉ, μ¦‰ μ†μ‹¤λ„ μ΅΄μ¬ν•λ‹¤.

λ”°λΌμ„ ν—¤μ§€λ¥Ό ν•κ²λλ©΄ λ§¤ ν—¤μ§€ κµ¬κ°„λ§λ‹¤ **(λ¦¬λ²¨λ°μ‹±μΌλ΅ μΈν• μ΄μµ - μ†μ‹¤)** λ§νΌμ μμµμ΄ λ°μƒν•λ‹¤.

λ§μ•½ μ£Όκ°€μ μ›€μ§μ„μ΄ μ²μ κ°€μ •ν• μ£Όκ°€ λ¨ν•κ³Ό νλΌλ―Έν„°μ™€ μ™„μ „ν μΌμΉν•λ‹¤λ©΄ μ „μ²΄ μμµμ λ„μ μ€ ν†µκ³„μ μΌλ΅ 0μΌλ΅ μλ ΄ν•κ² λλ‹¤.



In:

```
T1 = 1/12.0 - 1 * 1/256
T2 = 1/12.0 - 2 * 1/256

prices = np.linspace(95, 105, 21)
values1 = np.zeros_like(prices)
values2 = np.zeros_like(prices)
for i, s in enumerate(prices):
    values1[i] = call_value(s, T1, sigma, r, K)
    values2[i] = call_value(s, T2, sigma, r, K)

s1 = s0 + sigma * np.sqrt(1/256) * s0
v1 = call_value(s1, T1, sigma, r, K)
d1 = call_delta(s1, T1, sigma, r, K)
s2 = s1 - sigma * np.sqrt(1/256) * s1
v2 = call_value(s2, T2, sigma, r, K)

plt.plot(prices, values, 'g-')
plt.plot(prices, values1, 'g-')
plt.plot(prices, values2, 'g-')
plt.plot(prices, (prices - s0)* d0 + v0, 'b--')
plt.plot(prices, (prices - s1)* d1 + v1, 'b--')
plt.plot(s0, v0, 'ro')
plt.plot(s1, v1, 'ro')
plt.plot(s2, v2, 'ro')
plt.xlabel('prices')
plt.ylabel('European call value')
plt.xlim([99, 105])
plt.ylim([6, 11])
plt.show()
```









λ§μ•½ μ£Όκ°€μ λ³€λ™μ„±μ΄ μµμ… κ°€μΉλ¥Ό κ³„μ‚°ν•λ”λ° μ‚¬μ©λ λ³€λ™μ„± νλΌλ―Έν„°λ³΄λ‹¤ μ‘λ‹¤λ©΄ thetaλ” λ³€ν•¨μ—†μ§€λ§ κ³΅μ„ μ„±μΌλ΅ μΈν•΄ μ–»μ„ μ μλ” μμµμ΄ κ°μ†ν•κΈ° λ•λ¬Έμ— μ†μ‹¤μ΄ λ„μ λλ‹¤.



In:

```
new_sigma = sigma * 0.6

s1 = s0 + new_sigma * np.sqrt(1/256) * s0
v1 = call_value(s1, T1, sigma, r, K)
d1 = call_delta(s1, T1, sigma, r, K)
s2 = s1 - new_sigma * np.sqrt(1/256) * s1
v2 = call_value(s2, T2, sigma, r, K)

plt.plot(prices, values, 'g-')
plt.plot(prices, values1, 'g-')
plt.plot(prices, values2, 'g-')
plt.plot(prices, (prices - s0)* d0 + v0, 'b--')
plt.plot(prices, (prices - s1)* d1 + v1, 'b--')
plt.plot(s0, v0, 'ro')
plt.plot(s1, v1, 'ro')
plt.plot(s2, v2, 'ro')
plt.xlabel('prices')
plt.ylabel('European call value')
plt.xlim([99, 105])
plt.ylim([6, 11])
plt.show()
```









## λΈνƒ€ ν—¤μ§€λ” λ³€λ™μ„± λ² ν…





λ§μ•½ μµμ…μ„ λ§¤λ„ν•κ³  λΈνƒ€ ν—¤μ§€λ¥Ό ν•λ‹¤λ©΄ μ‚¬μ‹¤μ€ λ³€λ™μ„±μ΄ μ¤λ¥΄λ” μ‚¬κ±΄μ— λ² ν…(betting)ν• κ²ƒκ³Ό κ°™λ‹¤. μ‹¤μ λ΅ λ³€λ™μ„±μ΄ μƒμΉν•λ‹¤λ©΄ λΈνƒ€ ν—¤μ§€λ¥Ό ν•λ©΄μ„ λ³€λ™μ„± μ°¨μ΄μ™€ Vegaλ¥Ό κ³±ν•λ§νΌ μ΄μµμ΄ λ„μ λλ‹¤.

λ°λ€λ΅ μµμ…μ„ λ§¤λ„ν•κ³  λΈνƒ€ ν—¤μ§€λ¥Ό ν•λ©΄ λ³€λ™μ„±μ΄ λ‚΄λ¦¬λ” μ‚¬κ±΄μ— λ² ν…ν• κ²ƒκ³Ό κ°™μΌλ―€λ΅ λ§μ•½ λ°λ€λ΅ λ³€λ™μ„±μ΄ μƒμΉν•λ‹¤λ©΄ μ†μ‹¤μ„ μ…κ² λλ‹¤.